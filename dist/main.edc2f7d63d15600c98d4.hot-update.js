"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdatesolitaire"]("main",{

/***/ "./moves.js":
/*!******************!*\
  !*** ./moves.js ***!
  \******************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRankValue: () => (/* binding */ getRankValue),\n/* harmony export */   isOppositeColor: () => (/* binding */ isOppositeColor),\n/* harmony export */   isValidMove: () => (/* binding */ isValidMove),\n/* harmony export */   isValidSequence: () => (/* binding */ isValidSequence),\n/* harmony export */   moveCard: () => (/* binding */ moveCard)\n/* harmony export */ });\n/* harmony import */ var _cards_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cards.js */ \"./cards.js\");\n// moves.js\n\nvar RANKS = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];\nvar RED_SUITS = ['hearts', 'diamonds'];\nvar BLACK_SUITS = ['clubs', 'spades'];\nfunction getRankValue(rank) {\n  return RANKS.indexOf(rank);\n}\nfunction isOppositeColor(suit1, suit2) {\n  console.log('Checking opposite color:', suit1, suit2);\n\n  // Explicitly define suit colors\n  var redSuits = ['hearts', 'diamonds'];\n  var blackSuits = ['clubs', 'spades'];\n\n  // Verbose logging for debugging\n  console.log('Red suits:', redSuits);\n  console.log('Black suits:', blackSuits);\n\n  // Explicit function for suit color checking\n  function isRedSuit(suit) {\n    var isRed = redSuits.includes(suit);\n    console.log(\"Is \".concat(suit, \" a red suit? \").concat(isRed));\n    return isRed;\n  }\n  function isBlackSuit(suit) {\n    var isBlack = blackSuits.includes(suit);\n    console.log(\"Is \".concat(suit, \" a black suit? \").concat(isBlack));\n    return isBlack;\n  }\n\n  // Detailed color checking\n  var isRedToBlack = isRedSuit(suit1) && isBlackSuit(suit2);\n  var isBlackToRed = isBlackSuit(suit1) && isRedSuit(suit2);\n  var result = isRedToBlack || isBlackToRed;\n  console.log('Red to Black:', isRedToBlack);\n  console.log('Black to Red:', isBlackToRed);\n  console.log('Opposite color result:', result);\n  return result;\n}\n\n// Helper function to validate a sequence of cards\nfunction isValidSequence(cards) {\n  for (var i = 0; i < cards.length - 1; i++) {\n    var currentCard = cards[i];\n    var nextCard = cards[i + 1];\n    if (!isOppositeColor(currentCard.dataset.suit, nextCard.dataset.suit) || getRankValue(currentCard.dataset.rank) !== getRankValue(nextCard.dataset.rank) + 1) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isValidMove(sourceCard, destinationPile) {\n  var destinationCard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  if (!sourceCard) {\n    console.log('Invalid move: No source card');\n    return false;\n  }\n  var sourceSuit = sourceCard.dataset.suit;\n  var sourceRank = sourceCard.dataset.rank;\n  console.log(\"Checking move: \".concat(sourceRank, \" of \").concat(sourceSuit));\n  console.log(\"Destination pile: \".concat(destinationPile.id));\n  console.log(\"Destination card: \".concat(destinationCard ? destinationCard.dataset.rank + ' of ' + destinationCard.dataset.suit : 'None'));\n\n  // Moving to an empty tableau pile\n  if (destinationPile.id.startsWith('tableau') && !destinationCard) {\n    var isKing = sourceRank === 'K';\n    console.log(\"Empty tableau pile: \".concat(isKing ? 'Valid (King)' : 'Invalid (Not a King)'));\n    return isKing; // Only Kings can be placed on empty tableau spots\n  }\n\n  // Moving to a foundation pile\n  if (destinationPile.classList.contains('foundation-pile')) {\n    // Prevent moving multiple cards to foundation\n    var sourceParent = sourceCard.parentElement;\n    if (sourceParent && sourceParent.id.startsWith('tableau')) {\n      var sourceIndex = Array.from(sourceParent.children).indexOf(sourceCard);\n      if (sourceIndex < sourceParent.children.length - 1) {\n        console.log('Invalid move: Cannot move sequence to foundation');\n        return false; // Can't move a sequence to foundation\n      }\n    }\n\n    // Get all cards in the foundation pile\n    var foundationCards = Array.from(destinationPile.children);\n    if (foundationCards.length === 0) {\n      // Only Aces can start a foundation pile, and must match the suit\n      var isValidFoundationStart = sourceRank === 'A' && sourceSuit === destinationPile.dataset.suit;\n      console.log(\"Empty foundation pile: \".concat(isValidFoundationStart ? 'Valid (Ace of matching suit)' : 'Invalid'));\n      return isValidFoundationStart;\n    }\n\n    // Get the top card of the foundation pile\n    var topCard = foundationCards[foundationCards.length - 1];\n\n    // Must be same suit and next rank up\n    var isNextRank = getRankValue(sourceRank) === getRankValue(topCard.dataset.rank) + 1;\n    var isSameSuit = sourceSuit === topCard.dataset.suit;\n    var isValidFoundationMove = isNextRank && isSameSuit;\n    console.log(\"Foundation move: \".concat(isValidFoundationMove ? 'Valid' : 'Invalid'));\n    console.log(\"Next rank: \".concat(isNextRank, \", Same suit: \").concat(isSameSuit));\n    return isValidFoundationMove;\n  }\n\n  // Moving within tableau\n  if (destinationPile.id.startsWith('tableau')) {\n    if (!destinationCard) {\n      var _isKing = sourceRank === 'K';\n      console.log(\"Empty tableau pile: \".concat(_isKing ? 'Valid (King)' : 'Invalid (Not a King)'));\n      return _isKing; // Only Kings on empty spots\n    }\n\n    // Must be opposite color and one rank lower\n    var _isOppositeColor = _isOppositeColor(sourceSuit, destinationCard.dataset.suit);\n    var isNextRankLower = getRankValue(sourceRank) === getRankValue(destinationCard.dataset.rank) - 1;\n    var isValidTableauMove = _isOppositeColor && isNextRankLower;\n    console.log(\"Tableau move: \".concat(isValidTableauMove ? 'Valid' : 'Invalid'));\n    console.log(\"Opposite color: \".concat(_isOppositeColor, \", Next rank lower: \").concat(isNextRankLower));\n\n    // If moving from tableau, validate the sequence\n    if (isValidTableauMove && sourceCard.parentElement && sourceCard.parentElement.id.startsWith('tableau')) {\n      var sequence = [];\n      var current = sourceCard;\n      while (current) {\n        sequence.push(current);\n        current = current.nextElementSibling;\n      }\n      var isValidSequenceMoves = isValidSequence(sequence);\n      console.log(\"Sequence move: \".concat(isValidSequenceMoves ? 'Valid' : 'Invalid'));\n      return isValidSequenceMoves;\n    }\n    return isValidTableauMove;\n  }\n  console.log('Invalid move: No matching move type');\n  return false;\n}\nfunction moveCard(sourceCard, destinationPile) {\n  var destinationCard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  if (!isValidMove(sourceCard, destinationPile, destinationCard)) {\n    return false;\n  }\n  try {\n    // Get all cards being moved (for tableau sequences)\n    var sourceCards = [];\n    if (sourceCard.parentElement && sourceCard.parentElement.id.startsWith('tableau')) {\n      var current = sourceCard;\n      while (current) {\n        sourceCards.push(current);\n        current = current.nextElementSibling;\n      }\n    } else {\n      sourceCards.push(sourceCard);\n    }\n\n    // For tableau sequences, validate the sequence\n    if (sourceCards.length > 1) {\n      for (var i = 0; i < sourceCards.length - 1; i++) {\n        var currentCard = sourceCards[i];\n        var nextCard = sourceCards[i + 1];\n        if (!isOppositeColor(currentCard.dataset.suit, nextCard.dataset.suit) || getRankValue(currentCard.dataset.rank) !== getRankValue(nextCard.dataset.rank) + 1) {\n          console.log('Invalid sequence');\n          return false;\n        }\n      }\n    }\n\n    // Move the cards\n    sourceCards.forEach(function (card) {\n      if (card.parentElement) {\n        card.parentElement.removeChild(card);\n      }\n      destinationPile.appendChild(card);\n    });\n\n    // Update z-index and position for tableau piles\n    if (destinationPile.id.startsWith('tableau')) {\n      Array.from(destinationPile.children).forEach(function (card, index) {\n        card.style.zIndex = index + 1;\n        var spacing = card.classList.contains('face-down') ? 25 : 35;\n        card.style.top = \"\".concat(index * spacing, \"px\");\n        card.style.visibility = 'visible';\n      });\n      // Update pile height\n      var totalHeight = 180; // Base height\n      Array.from(destinationPile.children).forEach(function (card, index) {\n        if (index > 0) {\n          // Skip first card\n          totalHeight += card.classList.contains('face-down') ? 25 : 35;\n        }\n      });\n      destinationPile.style.minHeight = \"\".concat(totalHeight, \"px\");\n    }\n    return true;\n  } catch (error) {\n    console.error('Error moving cards:', error);\n    return false;\n  }\n}\n\n//# sourceURL=webpack://solitaire/./moves.js?");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("eafc785be501e75d3d70")
/******/ })();
/******/ 
/******/ }
);